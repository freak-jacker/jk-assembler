(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("vue")):"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["jk-assembler"]=t(require("vue")):e["jk-assembler"]=t(e["Vue"])})("undefined"!==typeof self?self:this,(function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fb15")}({"0bcf":function(e,t,n){"use strict";n("47d9")},"1a2c":function(e,t,n){"use strict";n("eef2")},"1c48":function(e,t,n){},"23e5":function(e,t,n){},"25aa":function(e,t,n){},"26ee":function(e,t,n){"use strict";var r=n("5ea3"),i="object"==typeof self&&self&&self.Object===Object&&self,o=r["a"]||i||Function("return this")();t["a"]=o},"288a":function(e,t,n){},"2f74":function(e,t,n){"use strict";function r(){return!1}t["a"]=r},"38bf":function(e,t,n){"use strict";n("9917")},4098:function(e,t,n){"use strict";n("9df3")},"47d9":function(e,t,n){},"58e0":function(e,t,n){"use strict";(function(e){var r=n("26ee"),i=n("2f74"),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o,l=s?r["a"].Buffer:void 0,c=l?l.isBuffer:void 0,u=c||i["a"];t["a"]=u}).call(this,n("dd40")(e))},"5ea3":function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t["a"]=n}).call(this,n("c8ba"))},"5f5e":function(e,t,n){},"7ab5":function(e,t,n){"use strict";n("840b")},"840b":function(e,t,n){},8875:function(e,t,n){var r,i,o;(function(n,a){i=[],r=a,o="function"===typeof r?r.apply(t,i):r,void 0===o||(e.exports=o)})("undefined"!==typeof self&&self,(function(){function e(){var t=Object.getOwnPropertyDescriptor(document,"currentScript");if(!t&&"currentScript"in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(f){var n,r,i,o=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,a=/@([^@]*):(\d+):(\d+)\s*$/gi,s=o.exec(f.stack)||a.exec(f.stack),l=s&&s[1]||!1,c=s&&s[2]||!1,u=document.location.href.replace(document.location.hash,""),p=document.getElementsByTagName("script");l===u&&(n=document.documentElement.outerHTML,r=new RegExp("(?:[^\\n]+?\\n){0,"+(c-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),i=n.replace(r,"$1").trim());for(var d=0;d<p.length;d++){if("interactive"===p[d].readyState)return p[d];if(p[d].src===l)return p[d];if(l===u&&p[d].innerHTML&&p[d].innerHTML.trim()===i)return p[d]}return null}}return e}))},"8bbf":function(t,n){t.exports=e},"90a0":function(e,t,n){"use strict";n("23e5")},9156:function(e,t,n){"use strict";n("f9d8")},"92c2":function(e,t,n){"use strict";n("5f5e")},9917:function(e,t,n){},"9df3":function(e,t,n){},a677:function(e,t,n){},c6eb:function(e,t,n){"use strict";(function(e){var r=n("5ea3"),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i,s=a&&r["a"].process,l=function(){try{var e=o&&o.require&&o.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(t){}}();t["a"]=l}).call(this,n("dd40")(e))},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},d1c7:function(e,t,n){"use strict";n("a677")},dd40:function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},dff1:function(e,t,n){"use strict";(function(e){var r=n("26ee"),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i,s=a?r["a"].Buffer:void 0,l=s?s.allocUnsafe:void 0;function c(e,t){if(t)return e.slice();var n=e.length,r=l?l(n):new e.constructor(n);return e.copy(r),r}t["a"]=c}).call(this,n("dd40")(e))},e52e:function(e,t,n){"use strict";n("1c48")},ecbe:function(e,t,n){"use strict";n("288a")},eef2:function(e,t,n){},f9d8:function(e,t,n){},fb15:function(e,t,n){"use strict";if(n.r(t),n.d(t,"permission",(function(){return k})),n.d(t,"comparePermission",(function(){return _})),"undefined"!==typeof window){var r=window.document.currentScript,i=n("8875");r=i(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:i});var o=r&&r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);o&&(n.p=o[1])}n("25aa");var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"assembler-container",class:e.padding?"pd20":""},[e.instance.filter?n("JkFilter",e._b({on:{search:e._refresh,add:e.handleAdd},model:{value:e.filterQeury,callback:function(t){e.filterQeury=t},expression:"filterQeury"}},"JkFilter",e.instance.filter,!1)):e._e(),e.instance.table?n("JkTable",e._b({directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],on:{edit:e.handleTableEdit,del:e.handleTableDel}},"JkTable",e.instance.table,!1)):e._e(),e.pagination?n("JkPagination",{attrs:{total:e.pageTotal},on:{change:e.handleSearch},model:{value:e.pageOptions,callback:function(t){e.pageOptions=t},expression:"pageOptions"}}):e._e(),e.instance.form?n("JkFormPanel",{attrs:{visible:e.formVisible,config:e.instance.form,props:e.get(e.instance,"form.panel.props"),events:e.get(e.instance,"form.panel.events")},on:{"update:visible":function(t){e.formVisible=t}},model:{value:e.formModel,callback:function(t){e.formModel=t},expression:"formModel"}}):e._e()],1)},s=[],l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"assembler-filter"},[n("el-form",e._g(e._b({attrs:{inline:""}},"el-form",e.props,!1),e.events),[e._l(e.columns,(function(t){return n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!t.hidden,expression:"!column.hidden"}],key:""+t.prop,attrs:{label:t.label}},[t.component?[n(t.component.is,e._g(e._b({tag:"component",attrs:{clearable:""},on:{change:e.handleSearch},model:{value:e.filterQuery[t.prop],callback:function(n){e.$set(e.filterQuery,t.prop,n)},expression:"filterQuery[column.prop]"}},"component",t.component.props,!1),t.component.events?t.component.events({value:e.filterQuery[t.prop],record:e.filterQuery}):{}))]:t.render?[n("Dito",{attrs:{render:t.render,scope:{value:e.filterQuery[t.prop],record:e.filterQuery}}})]:e._e()],2)})),e.operation?[e.operation.search?n("el-form-item",[n("el-button",e._b({on:{click:function(t){e.operation.search.handle?e.operation.search.handle():e.handleSearch()}}},"el-button",Object.assign({type:"primary"},e.operation.search.props),!1),[e._v(" "+e._s(e.operation.search.label||"搜索")+" ")])],1):e._e(),e.operation.add?n("el-form-item",[n("el-button",e._b({directives:[{name:"permission",rawName:"v-permission",value:e.operation.add.permission,expression:"operation.add.permission"}],on:{click:function(t){e.operation.add.handle?e.operation.add.handle():e.$emit("add")}}},"el-button",e.operation.add.props||{type:"primary",plain:!0,icon:"el-icon-plus"},!1),[e._v(" "+e._s(e.operation.add.label||"新增")+" ")])],1):e._e(),e.operation.butns?e._l(e.operation.butns,(function(t,r){return n("el-form-item",{key:"butn_"+r},[n("el-button",e._b({directives:[{name:"permission",rawName:"v-permission",value:t.permission,expression:"butn.permission"}],on:{click:t.handle}},"el-button",t.props,!1),[e._v(" "+e._s(t.label)+" ")])],1)})):e._e()]:e._e()],2)],1)},c=[],u={functional:!0,props:{render:Function,scope:{value:String,record:Object,index:Number,rows:Array}},render(e,t){return t.props.render(e,{value:t.props.scope.value,record:t.props.scope.record,index:t.props.scope.index,rows:t.props.scope.rows})}},p={model:{prop:"value",event:"update"},name:"JkAssemblerFilter",components:{Dito:u},props:{value:{type:Object,default:()=>{}},props:{type:Object,default:()=>{}},events:{type:Object,default:()=>{}},operation:{type:Object,default:()=>{}},columns:{type:Array,default:()=>[]}},data(){return{}},computed:{filterQuery:{get(){return this.value},set(e){this.$emit("update",e)}}},created(){},methods:{handleSearch(){this.$emit("search",!0)}}},d=p;function f(e,t,n,r,i,o,a,s){var l,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),a?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},c._ssrRegister=l):i&&(l=s?function(){i.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var p=c.beforeCreate;c.beforeCreate=p?[].concat(p,l):[l]}return{exports:e,options:c}}var m=f(d,l,c,!1,null,"3efef170",null),h=m.exports;h.install=e=>e.component(h.name,h),"undefined"!==typeof window&&window.Vue&&window.Vue.use(h);var v=h,b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"assembler-table"},[n("el-table",e._g(e._b({ref:"Table",attrs:{data:e.data}},"el-table",Object.assign({border:!0,stripe:!0,highlightCurrentRow:!0,rowKey:"id"},e.props),!1),e.events),[e._l(e.columns,(function(t,r){return[["selection","index"].includes(t.type)?n("el-table-column",e._b({key:"column_index_"+r},"el-table-column",Object.assign({align:"center"},t),!1)):n("el-table-column",e._b({key:"column_"+t.prop+"_"+r,scopedSlots:e._u([{key:"default",fn:function(r){return[t.component?[n(t.component.is,e._g(e._b({directives:[{name:"permission",rawName:"v-permission",value:t.permission,expression:"column.permission"}],tag:"component",attrs:{scope:{value:r.row[t.prop],record:r.row,index:r.$index,rows:e.data}},model:{value:r.row[t.prop],callback:function(n){e.$set(r.row,t.prop,n)},expression:"scope.row[column.prop]"}},"component",t.component.props,!1),t.component.events?t.component.events(r.row):{}))]:t.render?[n("Dito",{directives:[{name:"permission",rawName:"v-permission",value:t.permission,expression:"column.permission"}],attrs:{render:t.render,scope:{value:r.row[t.prop],record:r.row,index:r.$index,rows:e.data}}})]:[e._v(" "+e._s(r.row[t.prop])+" ")]]}}],null,!0)},"el-table-column",Object.assign({align:"center"},t),!1))]})),e.operationList.length?e._l(e.operationList,(function(t){return n("el-table-column",e._b({key:t.key,scopedSlots:e._u([{key:"default",fn:function(r){return e._l(t.butns,(function(t){return n("el-button",e._b({directives:[{name:"permission",rawName:"v-permission",value:t.permission,expression:"item.permission"}],key:t.label,on:{click:function(n){t.handle&&t.handle({record:r.row,index:r.$index,rows:e.data})}}},"el-button",Object.assign({},t.props),!1),[e._v(" "+e._s(t.label)+" ")])}))}}],null,!0)},"el-table-column",Object.assign({label:"其他操作项",align:"center"},t.props),!1))})):e._e(),e.operation?[n("el-table-column",e._b({scopedSlots:e._u([{key:"default",fn:function(t){return[e.operation.edit?n("el-button",e._b({directives:[{name:"permission",rawName:"v-permission",value:e.operation.edit.permission,expression:"operation.edit.permission"}],on:{click:function(n){e.operation.edit.handle?e.operation.edit.handle({record:t.row,index:t.$index,rows:e.data}):e.$emit("edit",{record:t.row,index:t.$index,rows:e.data})}}},"el-button",Object.assign({icon:"el-icon-edit-outline",type:"success",plain:!0},e.operation.edit.props),!1),[e._v(" "+e._s(e.operation.edit.label)+" ")]):e._e(),e.operation.del?n("el-button",e._b({directives:[{name:"permission",rawName:"v-permission",value:e.operation.del.permission,expression:"operation.del.permission"}],on:{click:function(n){e.operation.del.handle?e.operation.del.handle({record:t.row,index:t.$index,rows:e.data}):e.$emit("del",{record:t.row,index:t.$index,rows:e.data})}}},"el-button",Object.assign({icon:"el-icon-document-delete",type:"danger",plain:!0},e.operation.del.props),!1),[e._v(" "+e._s(e.operation.del.label)+" ")]):e._e(),e._l(e.operation.butns,(function(r){return n("el-button",e._b({directives:[{name:"permission",rawName:"v-permission",value:r.permission,expression:"item.permission"}],key:r.label,on:{click:function(n){r.handle&&r.handle({record:t.row,index:t.$index,rows:e.data})}}},"el-button",Object.assign({},r.props),!1),[e._v(" "+e._s(r.label)+" ")])}))]}}],null,!1,424682129)},"el-table-column",Object.assign({label:"操作",fixed:"right",align:"center",width:"160"},e.operation.props),!1))]:e._e()],2)],1)},g=[];function y(e,t){return!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function w(e,t){y(e,t)||(e.className+=" "+t)}function _(e){const t=window.PermissionRole;if(e&&e instanceof Array&&e.length>0&&t){const n=e,r=t.some(e=>n.includes(e));return!r}return!1}var j={inserted(e,t,n){const r=window.PermissionRole,{value:i}=t;if(i&&i instanceof Array&&i.length>0&&r){const n=i,o=r.some(e=>n.includes(e));if(!o){if(t.modifiers.del)return void(e.parentNode&&e.parentNode.removeChild(e));{e.disabled="disabled",w(e,"is-disabled"),w(e,"is-permission");const t=[...e.getElementsByTagName("input"),...e.getElementsByTagName("button")];t.forEach(e=>{e.disabled="disabled",w(e,"is-disabled")})}}}}};const x=function(e){e.directive("permission",j)};window.Vue&&(window["permission"]=j,Vue.use(x)),j.install=x;var k=j,O={directives:{permission:k},props:{PermissionRole:{type:[Boolean,Array],default:!1}},created:function(){this.PermissionRole&&!window.PermissionRole&&(window.PermissionRole=this.PermissionRole)},methods:{}},S=O;function C(e){return e&&"function"===typeof e}var $={name:"JkAssemblerTable",components:{Dito:u},mixins:[S],props:{data:{type:[Array],default:()=>[]},props:{type:Object,default:()=>{}},events:{type:Object,default:()=>{}},columns:{type:Array,default:()=>[]},operation:{type:Object,default:()=>{}},operationList:{type:Array,default:()=>[]}},data(){return{}},computed:{},created(){},methods:{}},A=$,V=f(A,b,g,!1,null,"0e34b32c",null),F=V.exports;F.install=e=>e.component(F.name,F),"undefined"!==typeof window&&window.Vue&&window.Vue.use(F);var P=F,L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"assembler-form-panel"},[n("el-dialog",e._g(e._b({attrs:{visible:e.dialogVisible,title:e.dialigTitle},on:{"update:visible":function(t){e.dialogVisible=t},close:e.handleClose}},"el-dialog",Object.assign({},e.props),!1),Object.assign({},e.events)),[n("JkForm",e._b({ref:"form",on:{cancel:e.handleCancel,submit:e.handleSubmit},model:{value:e.formModel,callback:function(t){e.formModel=t},expression:"formModel"}},"JkForm",e.config,!1))],1)],1)},E=[],M=Array.isArray,J=M,N=n("26ee"),I=N["a"].Symbol,T=I,U=Object.prototype,z=U.hasOwnProperty,B=U.toString,D=T?T.toStringTag:void 0;function R(e){var t=z.call(e,D),n=e[D];try{e[D]=void 0;var r=!0}catch(o){}var i=B.call(e);return r&&(t?e[D]=n:delete e[D]),i}var q=R,Q=Object.prototype,W=Q.toString;function H(e){return W.call(e)}var K=H,G="[object Null]",X="[object Undefined]",Y=T?T.toStringTag:void 0;function Z(e){return null==e?void 0===e?X:G:Y&&Y in Object(e)?q(e):K(e)}var ee=Z;function te(e){return null!=e&&"object"==typeof e}var ne=te,re="[object Symbol]";function ie(e){return"symbol"==typeof e||ne(e)&&ee(e)==re}var oe=ie,ae=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,se=/^\w*$/;function le(e,t){if(J(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!oe(e))||(se.test(e)||!ae.test(e)||null!=t&&e in Object(t))}var ce=le;function ue(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var pe=ue,de="[object AsyncFunction]",fe="[object Function]",me="[object GeneratorFunction]",he="[object Proxy]";function ve(e){if(!pe(e))return!1;var t=ee(e);return t==fe||t==me||t==de||t==he}var be=ve,ge=N["a"]["__core-js_shared__"],ye=ge,we=function(){var e=/[^.]+$/.exec(ye&&ye.keys&&ye.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function _e(e){return!!we&&we in e}var je=_e,xe=Function.prototype,ke=xe.toString;function Oe(e){if(null!=e){try{return ke.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var Se=Oe,Ce=/[\\^$.*+?()[\]{}|]/g,$e=/^\[object .+?Constructor\]$/,Ae=Function.prototype,Ve=Object.prototype,Fe=Ae.toString,Pe=Ve.hasOwnProperty,Le=RegExp("^"+Fe.call(Pe).replace(Ce,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ee(e){if(!pe(e)||je(e))return!1;var t=be(e)?Le:$e;return t.test(Se(e))}var Me=Ee;function Je(e,t){return null==e?void 0:e[t]}var Ne=Je;function Ie(e,t){var n=Ne(e,t);return Me(n)?n:void 0}var Te=Ie,Ue=Te(Object,"create"),ze=Ue;function Be(){this.__data__=ze?ze(null):{},this.size=0}var De=Be;function Re(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var qe=Re,Qe="__lodash_hash_undefined__",We=Object.prototype,He=We.hasOwnProperty;function Ke(e){var t=this.__data__;if(ze){var n=t[e];return n===Qe?void 0:n}return He.call(t,e)?t[e]:void 0}var Ge=Ke,Xe=Object.prototype,Ye=Xe.hasOwnProperty;function Ze(e){var t=this.__data__;return ze?void 0!==t[e]:Ye.call(t,e)}var et=Ze,tt="__lodash_hash_undefined__";function nt(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ze&&void 0===t?tt:t,this}var rt=nt;function it(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}it.prototype.clear=De,it.prototype["delete"]=qe,it.prototype.get=Ge,it.prototype.has=et,it.prototype.set=rt;var ot=it;function at(){this.__data__=[],this.size=0}var st=at;function lt(e,t){return e===t||e!==e&&t!==t}var ct=lt;function ut(e,t){var n=e.length;while(n--)if(ct(e[n][0],t))return n;return-1}var pt=ut,dt=Array.prototype,ft=dt.splice;function mt(e){var t=this.__data__,n=pt(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():ft.call(t,n,1),--this.size,!0}var ht=mt;function vt(e){var t=this.__data__,n=pt(t,e);return n<0?void 0:t[n][1]}var bt=vt;function gt(e){return pt(this.__data__,e)>-1}var yt=gt;function wt(e,t){var n=this.__data__,r=pt(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var _t=wt;function jt(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}jt.prototype.clear=st,jt.prototype["delete"]=ht,jt.prototype.get=bt,jt.prototype.has=yt,jt.prototype.set=_t;var xt=jt,kt=Te(N["a"],"Map"),Ot=kt;function St(){this.size=0,this.__data__={hash:new ot,map:new(Ot||xt),string:new ot}}var Ct=St;function $t(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}var At=$t;function Vt(e,t){var n=e.__data__;return At(t)?n["string"==typeof t?"string":"hash"]:n.map}var Ft=Vt;function Pt(e){var t=Ft(this,e)["delete"](e);return this.size-=t?1:0,t}var Lt=Pt;function Et(e){return Ft(this,e).get(e)}var Mt=Et;function Jt(e){return Ft(this,e).has(e)}var Nt=Jt;function It(e,t){var n=Ft(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var Tt=It;function Ut(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}Ut.prototype.clear=Ct,Ut.prototype["delete"]=Lt,Ut.prototype.get=Mt,Ut.prototype.has=Nt,Ut.prototype.set=Tt;var zt=Ut,Bt="Expected a function";function Dt(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(Bt);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Dt.Cache||zt),n}Dt.Cache=zt;var Rt=Dt,qt=500;function Qt(e){var t=Rt(e,(function(e){return n.size===qt&&n.clear(),e})),n=t.cache;return t}var Wt=Qt,Ht=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Kt=/\\(\\)?/g,Gt=Wt((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Ht,(function(e,n,r,i){t.push(r?i.replace(Kt,"$1"):n||e)})),t})),Xt=Gt;function Yt(e,t){var n=-1,r=null==e?0:e.length,i=Array(r);while(++n<r)i[n]=t(e[n],n,e);return i}var Zt=Yt,en=1/0,tn=T?T.prototype:void 0,nn=tn?tn.toString:void 0;function rn(e){if("string"==typeof e)return e;if(J(e))return Zt(e,rn)+"";if(oe(e))return nn?nn.call(e):"";var t=e+"";return"0"==t&&1/e==-en?"-0":t}var on=rn;function an(e){return null==e?"":on(e)}var sn=an;function ln(e,t){return J(e)?e:ce(e,t)?[e]:Xt(sn(e))}var cn=ln,un=1/0;function pn(e){if("string"==typeof e||oe(e))return e;var t=e+"";return"0"==t&&1/e==-un?"-0":t}var dn=pn;function fn(e,t){t=cn(t,e);var n=0,r=t.length;while(null!=e&&n<r)e=e[dn(t[n++])];return n&&n==r?e:void 0}var mn=fn;function hn(e,t,n){var r=null==e?void 0:mn(e,t);return void 0===r?n:r}var vn=hn,bn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"assembler-form"},[n("el-form",e._g(e._b({directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"},{name:"permission",rawName:"v-permission",value:e.permission,expression:"permission"}],ref:"form",attrs:{model:e.formModel}},"el-form",Object.assign({labelWidth:"120px"},e.props),!1),e.events),[e._l(e.columns,(function(t){return n("el-form-item",e._b({key:"prop_"+t.prop},"el-form-item",t,!1),[t.component?[n(t.component.is,e._g(e._b({tag:"component",attrs:{clearable:""},model:{value:e.formModel[t.prop],callback:function(n){e.$set(e.formModel,t.prop,n)},expression:"formModel[column.prop]"}},"component",t.component.props,!1),t.component.events?t.component.events({value:e.formModel[t.prop],record:e.formModel}):{}))]:t.render?[n("Dito",{attrs:{render:t.render,scope:{value:e.formModel[t.prop],record:e.formModel}}})]:e._e(),t.tip?n("div",{staticClass:"form-item-tip"},[e.isFunction(t.tip)?[n("Dito",{attrs:{render:t.tip,scope:{value:e.formModel[t.prop],record:e.formModel}}})]:[e._v(" "+e._s(t.tip)+" ")]],2):e._e()],2)})),e.operation?n("el-form-item",[e.operation.submit?[n("el-button",e._b({directives:[{name:"permission",rawName:"v-permission",value:e.operation.submit.permission,expression:"operation.submit.permission"}],on:{click:function(t){return e.handleSubmit(e.operation.submit.handle)}}},"el-button",Object.assign({type:"primary"},e.operation.submit.props),!1),[e._v(" "+e._s(e.operation.submit.label||"提交")+" ")])]:e._e(),e.operation.cancel?[n("el-button",e._b({on:{click:function(t){return e.handleCancel(e.operation.cancel.handle)}}},"el-button",e.operation.cancel.props||{type:"primary",plain:!0},!1),[e._v(" "+e._s(e.operation.cancel.label||"取消")+" ")])]:e._e(),e.operation.butns?[e._l(e.operation.butns,(function(t,r){return[n("el-button",e._b({key:"butn_"+r,on:{click:t.handle}},"el-button",t.props,!1),[e._v(" "+e._s(t.label)+" ")])]}))]:e._e()],2):e._e()],2)],1)},gn=[];function yn(){this.__data__=new xt,this.size=0}var wn=yn;function _n(e){var t=this.__data__,n=t["delete"](e);return this.size=t.size,n}var jn=_n;function xn(e){return this.__data__.get(e)}var kn=xn;function On(e){return this.__data__.has(e)}var Sn=On,Cn=200;function $n(e,t){var n=this.__data__;if(n instanceof xt){var r=n.__data__;if(!Ot||r.length<Cn-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new zt(r)}return n.set(e,t),this.size=n.size,this}var An=$n;function Vn(e){var t=this.__data__=new xt(e);this.size=t.size}Vn.prototype.clear=wn,Vn.prototype["delete"]=jn,Vn.prototype.get=kn,Vn.prototype.has=Sn,Vn.prototype.set=An;var Fn=Vn;function Pn(e,t){var n=-1,r=null==e?0:e.length;while(++n<r)if(!1===t(e[n],n,e))break;return e}var Ln=Pn,En=function(){try{var e=Te(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),Mn=En;function Jn(e,t,n){"__proto__"==t&&Mn?Mn(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Nn=Jn,In=Object.prototype,Tn=In.hasOwnProperty;function Un(e,t,n){var r=e[t];Tn.call(e,t)&&ct(r,n)&&(void 0!==n||t in e)||Nn(e,t,n)}var zn=Un;function Bn(e,t,n,r){var i=!n;n||(n={});var o=-1,a=t.length;while(++o<a){var s=t[o],l=r?r(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),i?Nn(n,s,l):zn(n,s,l)}return n}var Dn=Bn;function Rn(e,t){var n=-1,r=Array(e);while(++n<e)r[n]=t(n);return r}var qn=Rn,Qn="[object Arguments]";function Wn(e){return ne(e)&&ee(e)==Qn}var Hn=Wn,Kn=Object.prototype,Gn=Kn.hasOwnProperty,Xn=Kn.propertyIsEnumerable,Yn=Hn(function(){return arguments}())?Hn:function(e){return ne(e)&&Gn.call(e,"callee")&&!Xn.call(e,"callee")},Zn=Yn,er=n("58e0"),tr=9007199254740991,nr=/^(?:0|[1-9]\d*)$/;function rr(e,t){var n=typeof e;return t=null==t?tr:t,!!t&&("number"==n||"symbol"!=n&&nr.test(e))&&e>-1&&e%1==0&&e<t}var ir=rr,or=9007199254740991;function ar(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=or}var sr=ar,lr="[object Arguments]",cr="[object Array]",ur="[object Boolean]",pr="[object Date]",dr="[object Error]",fr="[object Function]",mr="[object Map]",hr="[object Number]",vr="[object Object]",br="[object RegExp]",gr="[object Set]",yr="[object String]",wr="[object WeakMap]",_r="[object ArrayBuffer]",jr="[object DataView]",xr="[object Float32Array]",kr="[object Float64Array]",Or="[object Int8Array]",Sr="[object Int16Array]",Cr="[object Int32Array]",$r="[object Uint8Array]",Ar="[object Uint8ClampedArray]",Vr="[object Uint16Array]",Fr="[object Uint32Array]",Pr={};function Lr(e){return ne(e)&&sr(e.length)&&!!Pr[ee(e)]}Pr[xr]=Pr[kr]=Pr[Or]=Pr[Sr]=Pr[Cr]=Pr[$r]=Pr[Ar]=Pr[Vr]=Pr[Fr]=!0,Pr[lr]=Pr[cr]=Pr[_r]=Pr[ur]=Pr[jr]=Pr[pr]=Pr[dr]=Pr[fr]=Pr[mr]=Pr[hr]=Pr[vr]=Pr[br]=Pr[gr]=Pr[yr]=Pr[wr]=!1;var Er=Lr;function Mr(e){return function(t){return e(t)}}var Jr=Mr,Nr=n("c6eb"),Ir=Nr["a"]&&Nr["a"].isTypedArray,Tr=Ir?Jr(Ir):Er,Ur=Tr,zr=Object.prototype,Br=zr.hasOwnProperty;function Dr(e,t){var n=J(e),r=!n&&Zn(e),i=!n&&!r&&Object(er["a"])(e),o=!n&&!r&&!i&&Ur(e),a=n||r||i||o,s=a?qn(e.length,String):[],l=s.length;for(var c in e)!t&&!Br.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ir(c,l))||s.push(c);return s}var Rr=Dr,qr=Object.prototype;function Qr(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||qr;return e===n}var Wr=Qr;function Hr(e,t){return function(n){return e(t(n))}}var Kr=Hr,Gr=Kr(Object.keys,Object),Xr=Gr,Yr=Object.prototype,Zr=Yr.hasOwnProperty;function ei(e){if(!Wr(e))return Xr(e);var t=[];for(var n in Object(e))Zr.call(e,n)&&"constructor"!=n&&t.push(n);return t}var ti=ei;function ni(e){return null!=e&&sr(e.length)&&!be(e)}var ri=ni;function ii(e){return ri(e)?Rr(e):ti(e)}var oi=ii;function ai(e,t){return e&&Dn(t,oi(t),e)}var si=ai;function li(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}var ci=li,ui=Object.prototype,pi=ui.hasOwnProperty;function di(e){if(!pe(e))return ci(e);var t=Wr(e),n=[];for(var r in e)("constructor"!=r||!t&&pi.call(e,r))&&n.push(r);return n}var fi=di;function mi(e){return ri(e)?Rr(e,!0):fi(e)}var hi=mi;function vi(e,t){return e&&Dn(t,hi(t),e)}var bi=vi,gi=n("dff1");function yi(e,t){var n=-1,r=e.length;t||(t=Array(r));while(++n<r)t[n]=e[n];return t}var wi=yi;function _i(e,t){var n=-1,r=null==e?0:e.length,i=0,o=[];while(++n<r){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}var ji=_i;function xi(){return[]}var ki=xi,Oi=Object.prototype,Si=Oi.propertyIsEnumerable,Ci=Object.getOwnPropertySymbols,$i=Ci?function(e){return null==e?[]:(e=Object(e),ji(Ci(e),(function(t){return Si.call(e,t)})))}:ki,Ai=$i;function Vi(e,t){return Dn(e,Ai(e),t)}var Fi=Vi;function Pi(e,t){var n=-1,r=t.length,i=e.length;while(++n<r)e[i+n]=t[n];return e}var Li=Pi,Ei=Kr(Object.getPrototypeOf,Object),Mi=Ei,Ji=Object.getOwnPropertySymbols,Ni=Ji?function(e){var t=[];while(e)Li(t,Ai(e)),e=Mi(e);return t}:ki,Ii=Ni;function Ti(e,t){return Dn(e,Ii(e),t)}var Ui=Ti;function zi(e,t,n){var r=t(e);return J(e)?r:Li(r,n(e))}var Bi=zi;function Di(e){return Bi(e,oi,Ai)}var Ri=Di;function qi(e){return Bi(e,hi,Ii)}var Qi=qi,Wi=Te(N["a"],"DataView"),Hi=Wi,Ki=Te(N["a"],"Promise"),Gi=Ki,Xi=Te(N["a"],"Set"),Yi=Xi,Zi=Te(N["a"],"WeakMap"),eo=Zi,to="[object Map]",no="[object Object]",ro="[object Promise]",io="[object Set]",oo="[object WeakMap]",ao="[object DataView]",so=Se(Hi),lo=Se(Ot),co=Se(Gi),uo=Se(Yi),po=Se(eo),fo=ee;(Hi&&fo(new Hi(new ArrayBuffer(1)))!=ao||Ot&&fo(new Ot)!=to||Gi&&fo(Gi.resolve())!=ro||Yi&&fo(new Yi)!=io||eo&&fo(new eo)!=oo)&&(fo=function(e){var t=ee(e),n=t==no?e.constructor:void 0,r=n?Se(n):"";if(r)switch(r){case so:return ao;case lo:return to;case co:return ro;case uo:return io;case po:return oo}return t});var mo=fo,ho=Object.prototype,vo=ho.hasOwnProperty;function bo(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&vo.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var go=bo,yo=N["a"].Uint8Array,wo=yo;function _o(e){var t=new e.constructor(e.byteLength);return new wo(t).set(new wo(e)),t}var jo=_o;function xo(e,t){var n=t?jo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var ko=xo,Oo=/\w*$/;function So(e){var t=new e.constructor(e.source,Oo.exec(e));return t.lastIndex=e.lastIndex,t}var Co=So,$o=T?T.prototype:void 0,Ao=$o?$o.valueOf:void 0;function Vo(e){return Ao?Object(Ao.call(e)):{}}var Fo=Vo;function Po(e,t){var n=t?jo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var Lo=Po,Eo="[object Boolean]",Mo="[object Date]",Jo="[object Map]",No="[object Number]",Io="[object RegExp]",To="[object Set]",Uo="[object String]",zo="[object Symbol]",Bo="[object ArrayBuffer]",Do="[object DataView]",Ro="[object Float32Array]",qo="[object Float64Array]",Qo="[object Int8Array]",Wo="[object Int16Array]",Ho="[object Int32Array]",Ko="[object Uint8Array]",Go="[object Uint8ClampedArray]",Xo="[object Uint16Array]",Yo="[object Uint32Array]";function Zo(e,t,n){var r=e.constructor;switch(t){case Bo:return jo(e);case Eo:case Mo:return new r(+e);case Do:return ko(e,n);case Ro:case qo:case Qo:case Wo:case Ho:case Ko:case Go:case Xo:case Yo:return Lo(e,n);case Jo:return new r;case No:case Uo:return new r(e);case Io:return Co(e);case To:return new r;case zo:return Fo(e)}}var ea=Zo,ta=Object.create,na=function(){function e(){}return function(t){if(!pe(t))return{};if(ta)return ta(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),ra=na;function ia(e){return"function"!=typeof e.constructor||Wr(e)?{}:ra(Mi(e))}var oa=ia,aa="[object Map]";function sa(e){return ne(e)&&mo(e)==aa}var la=sa,ca=Nr["a"]&&Nr["a"].isMap,ua=ca?Jr(ca):la,pa=ua,da="[object Set]";function fa(e){return ne(e)&&mo(e)==da}var ma=fa,ha=Nr["a"]&&Nr["a"].isSet,va=ha?Jr(ha):ma,ba=va,ga=1,ya=2,wa=4,_a="[object Arguments]",ja="[object Array]",xa="[object Boolean]",ka="[object Date]",Oa="[object Error]",Sa="[object Function]",Ca="[object GeneratorFunction]",$a="[object Map]",Aa="[object Number]",Va="[object Object]",Fa="[object RegExp]",Pa="[object Set]",La="[object String]",Ea="[object Symbol]",Ma="[object WeakMap]",Ja="[object ArrayBuffer]",Na="[object DataView]",Ia="[object Float32Array]",Ta="[object Float64Array]",Ua="[object Int8Array]",za="[object Int16Array]",Ba="[object Int32Array]",Da="[object Uint8Array]",Ra="[object Uint8ClampedArray]",qa="[object Uint16Array]",Qa="[object Uint32Array]",Wa={};function Ha(e,t,n,r,i,o){var a,s=t&ga,l=t&ya,c=t&wa;if(n&&(a=i?n(e,r,i,o):n(e)),void 0!==a)return a;if(!pe(e))return e;var u=J(e);if(u){if(a=go(e),!s)return wi(e,a)}else{var p=mo(e),d=p==Sa||p==Ca;if(Object(er["a"])(e))return Object(gi["a"])(e,s);if(p==Va||p==_a||d&&!i){if(a=l||d?{}:oa(e),!s)return l?Ui(e,bi(a,e)):Fi(e,si(a,e))}else{if(!Wa[p])return i?e:{};a=ea(e,p,s)}}o||(o=new Fn);var f=o.get(e);if(f)return f;o.set(e,a),ba(e)?e.forEach((function(r){a.add(Ha(r,t,n,r,e,o))})):pa(e)&&e.forEach((function(r,i){a.set(i,Ha(r,t,n,i,e,o))}));var m=c?l?Qi:Ri:l?keysIn:oi,h=u?void 0:m(e);return Ln(h||e,(function(r,i){h&&(i=r,r=e[i]),zn(a,i,Ha(r,t,n,i,e,o))})),a}Wa[_a]=Wa[ja]=Wa[Ja]=Wa[Na]=Wa[xa]=Wa[ka]=Wa[Ia]=Wa[Ta]=Wa[Ua]=Wa[za]=Wa[Ba]=Wa[$a]=Wa[Aa]=Wa[Va]=Wa[Fa]=Wa[Pa]=Wa[La]=Wa[Ea]=Wa[Da]=Wa[Ra]=Wa[qa]=Wa[Qa]=!0,Wa[Oa]=Wa[Sa]=Wa[Ma]=!1;var Ka=Ha,Ga=1,Xa=4;function Ya(e){return Ka(e,Ga|Xa)}var Za=Ya,es={model:{prop:"value",event:"update"},name:"JkAssemblerForm",components:{Dito:u},props:{value:{type:Object,default:()=>{}},props:{type:Object,default:()=>{}},events:{type:Object,default:()=>{}},operation:{type:Object,default:()=>{}},columns:{type:Array,default:()=>[]},permission:{type:Array,default:()=>[]}},data(){return{loading:!1}},computed:{formModel:{get(){return this.value},set(e){this.$emit("update",e)}}},created(){},methods:{isFunction:C,reset(){this.$refs.form.resetFields(),this.formModel={}},async handleSubmit(e){console.log("cb: ",typeof e);try{this.loading=!0,await this.$refs.form.validate(),console.log("pass validate");const t=Za(this.formModel);e&&await e({record:t}),this.$emit("submit")}catch(t){return!1}finally{this.loading=!1}},async handleCancel(e){e&&await e(),this.$emit("cancel")}}},ts=es,ns=(n("1a2c"),f(ts,bn,gn,!1,null,"b48b5148",null)),rs=ns.exports;rs.install=e=>e.component(rs.name,rs),"undefined"!==typeof window&&window.Vue&&window.Vue.use(rs);var is=rs,os={name:"JkAssemblerFormPanel",components:{JkForm:is},model:{prop:"value",event:"update"},props:{visible:{type:Boolean,default:!1},title:{type:String,default:""},props:{type:Object,default:()=>{}},events:{type:Object,default:()=>{}},value:{type:Object,default:()=>{}},config:{type:Object,default:()=>{}}},data(){return{}},computed:{formModel:{get(){return this.value},set(e){this.$emit("update",e)}},dialogVisible:{get(){return this.visible},set(e){this.$emit("update:visible",e)}},dialigTitle(){return this.title?this.title:vn(this.formModel,"id")?"编辑":"新增"}},created(){},methods:{handleClose(){this.$refs.form.reset()},handleCancel(){this.dialogVisible=!1},handleSubmit(){this.dialogVisible=!1}}},as=os,ss=f(as,L,E,!1,null,"4450656f",null),ls=ss.exports;ls.install=e=>e.component(ls.name,ls),"undefined"!==typeof window&&window.Vue&&window.Vue.use(ls);var cs=ls,us=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pagination-panel"},[n("div",{staticClass:"panel-additional"},[e._t("default")],2),e.total&&0!==e.total?[n("el-pagination",{staticClass:"pagination",attrs:{"current-page":e.pageOptions.page,"page-size":e.pageOptions.size,"page-sizes":e.sizes,layout:e.layout,total:e.total,"hide-on-single-page":e.hideSingle,background:""},on:{"size-change":e.onSizeChange,"current-change":e.onPageChange}})]:e._e()],2)},ps=[],ds={name:"JkAssemblerPagination",model:{prop:"value",event:"update"},props:{value:{required:!0,type:Object},total:{type:Number,default:0},sizes:{type:Array,default:()=>[10,20,50,100]},hideSingle:{type:Boolean,default:!0}},data(){return{}},computed:{pageOptions:{get(){return this.value},set(e){this.$emit("update",e)}},layout(){return"total, sizes, prev, pager, next, jumper"}},methods:{onSizeChange(e){this.pageOptions={size:e,page:1},this.$emit("change",!0)},onPageChange(e){this.pageOptions={size:this.pageOptions.size,page:e},this.$emit("change",!1)}}},fs=ds,ms=(n("7ab5"),f(fs,us,ps,!1,null,"75c64620",null)),hs=ms.exports;hs.install=e=>e.component(hs.name,hs),"undefined"!==typeof window&&window.Vue&&window.Vue.use(hs);var vs=hs,bs={name:"JkAssembler",mixins:[S],components:{JkFilter:v,JkTable:P,JkFormPanel:cs,JkPagination:vs},props:{config:{require:!0,type:[Function,Object],default:()=>({})},padding:{type:Boolean,default:!0},pagination:{type:Boolean,default:!0}},data(){return{isLoading:!1,filterQeury:{},pageTotal:0,pageOptions:{page:1,size:10},formModel:{},formVisible:!1}},computed:{instance(){return be(this.config)?this.config(this):this.config}},created(){this.handleSearch()},methods:{get:vn,async handleSearch(e){try{this.isLoading=!0;const e=this.pageOptions,t=vn(this.instance,"search.default",{}),n=this.filterQeury,r={...e,...t,...n},i=vn(this.instance,"search.handle");if(i){const e=await i(r);this.pageTotal=vn(e,"pagination.total"),this.instance.table.data=vn(e,"data")}else console.log("没有 config.search.handle 方法，请自行添加")}catch(t){this.$message.error("拉取数据错误")}finally{this.isLoading=!1}},handleAdd(){this.formVisible=!0},handleTableEdit({record:e}){this.formModel=Za(e),this.formVisible=!0},handleTableDel(){},_refresh(e=!1){this.pageOptions.page=1,this.handleSearch(e)},_setQuery(e){Object.entries(e).forEach(([e,t])=>{this.$set(this.filterQeury,e,t)}),this.handleSearch()}}},gs=bs,ys=(n("92c2"),f(gs,a,s,!1,null,"f48708c2",null)),ws=ys.exports;ws.install=e=>e.component(ws.name,ws),"undefined"!==typeof window&&window.Vue&&window.Vue.use(ws);var _s=ws,js=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"table-column-images"},[e._l(e.list,(function(t,r){return[n("el-image",{key:r,staticClass:"table-column-images__item",attrs:{fit:"contain",src:t,"preview-src-list":e.list}})]}))],2)},xs=[],ks={name:"JkColumnImages",props:{value:{type:[String,Array],required:!0,default:()=>[]},srcKey:{type:[String]}},computed:{list(){return J(this.value)?this.srcKey?this.value.map(e=>e[this.srcKey]):this.value:[this.value]}}},Os=ks,Ss=(n("0bcf"),f(Os,js,xs,!1,null,null,null)),Cs=Ss.exports;Cs.install=e=>e.component(Cs.name,Cs),"undefined"!==typeof window&&window.Vue&&window.Vue.use(Cs);var $s=Cs,As=n("8bbf"),Vs=n.n(As),Fs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flow-app",staticStyle:{position:"relative"}},[n("transition",{attrs:{name:"preview-image-fade"},on:{"after-leave":e.handleAfterLeave}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"preview-image"},[n("section",{staticClass:"image-content",on:{click:function(t){return t.target!==t.currentTarget?null:e.close(t)}}},[n("i",{directives:[{name:"show",rawName:"v-show",value:!e.single,expression:"!single"}],staticClass:"el-icon-arrow-left image-content-arrow",on:{click:e.switchPre}}),n("img",{staticClass:"image-content-show",attrs:{src:e.imageUrlList[e.currentIndex]}}),n("i",{directives:[{name:"show",rawName:"v-show",value:!e.single,expression:"!single"}],staticClass:"el-icon-arrow-right image-content-arrow",on:{click:e.switchNext}})]),n("section",{staticClass:"image-thumbnail-panel",on:{click:function(t){return t.target!==t.currentTarget?null:e.close(t)}}},[e._l(e.imageUrlList,(function(t,r){return[n("img",{key:r,staticClass:"thumbnail-panel-img",class:{"thumbnail-panel-img__active":e.currentIndex===r},attrs:{src:t},on:{click:function(t){return e.showSelectedImage(r)}}})]}))],2),n("i",{staticClass:"iconfont icon-shanchu image-close-btn",on:{click:e.close}})])])],1)},Ps=[],Ls={name:"JkPreviewImages",data(){return{visible:!1,imageUrlList:[],currentIndex:0,closed:!1,onClose:null}},computed:{single(){return this.imageUrlList.length<=1}},watch:{closed(e){e&&(this.visible=!1,"function"===typeof this.onClose&&this.onClose(this))}},methods:{handleAfterLeave(){this.$destroy(!0),this.$el.parentNode.removeChild(this.$el)},close(){this.closed=!0},switchPre(){this.currentIndex>0&&(this.currentIndex-=1)},switchNext(){this.currentIndex<this.imageUrlList.length-1&&(this.currentIndex+=1)},showSelectedImage(e){e>=0&&e<=this.imageUrlList.length-1&&(this.currentIndex=e)}}},Es=Ls,Ms=(n("90a0"),f(Es,Fs,Ps,!1,null,null,null)),Js=Ms.exports;const Ns=Vs.a.extend(Js);let Is;const Ts=[];let Us=1;const zs=(e,t=0)=>{let n=[];Array.isArray(e)?n=e:n.push(e);const r={imageUrlList:n,currentIndex:t},i=r.onClose,o="message_"+(Us+=1);return r.onClose=function(){zs.close(o,i)},Is=new Ns({data:r}),Is.id=o,Is.vm=Is.$mount(),document.body.appendChild(Is.vm.$el),Is.vm.visible=!0,Is.dom=Is.vm.$el,Is.dom.style.zIndex=3e3,Ts.push(Is),Is.vm};zs.close=function(e,t){for(let n=0;n<Ts.length;n++)if(e===Ts[n].id){"function"===typeof t&&t(Ts[n]),Ts.splice(n,1);break}};var Bs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-popconfirm",{attrs:{title:"确认要进行此操作？"},on:{confirm:e.onConfirm}},[n("div",{attrs:{slot:"reference"},slot:"reference"},[n("el-switch",e._b({attrs:{value:e.value,"active-value":e.activeValue,"inactive-value":e.inactiveValue,disabled:e.disabled},on:{change:e.changeSwitch}},"el-switch",e.props,!1))],1)])],1)},Ds=[],Rs={name:"JkColumnStatus",model:{prop:"value",event:"update"},props:{value:{type:[Boolean,String,Number],default:!1},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},disabled:{type:[Boolean],default:!1},props:{type:Object,default:()=>{}}},data(){return{middleValue:this.data}},methods:{onConfirm(){this.$emit("change",this.middleValue)},async changeSwitch(e){this.middleValue=e}}},qs=Rs,Qs=f(qs,Bs,Ds,!1,null,null,null),Ws=Qs.exports;Ws.install=e=>e.component(Ws.name,Ws),"undefined"!==typeof window&&window.Vue&&window.Vue.use(Ws);var Hs=Ws,Ks=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("span",{staticStyle:{"margin-right":"5px"}},[e._v(e._s(e.scope.index+1))]),n("el-button-group",[n("el-button",{staticClass:"sort-btn",attrs:{disabled:e.isFirst,icon:"el-icon-top",size:"mini",circle:"",plain:""},on:{click:function(t){return e.updateSort(0)}}}),n("el-button",{staticClass:"sort-btn",attrs:{disabled:e.isLast,icon:"el-icon-bottom",size:"mini",circle:"",plain:""},on:{click:function(t){return e.updateSort(1)}}})],1)],1)},Gs=[],Xs={name:"JkColumnSort",props:{value:{type:[String,Number],default:""},scope:{type:Object,default:()=>{}}},computed:{isFirst(){return 0===this.scope.index},isLast(){return this.scope.rows.length-1===this.scope.index}},methods:{updateSort(e){const t=+this.scope.record["id"],n=this.scope.index;if(0===e){const e=this.scope.rows[n-1],r=e.id,i={id1:t,id2:r};this.$emit("up",i)}else{const e=this.scope.rows[n+1],r=e.id,i={id1:t,id2:r};this.$emit("down",i)}}}},Ys=Xs,Zs=(n("d1c7"),f(Ys,Ks,Gs,!1,null,null,null)),el=Zs.exports;el.install=e=>e.component(el.name,el),"undefined"!==typeof window&&window.Vue&&window.Vue.use(el);var tl=el,nl=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-select",{attrs:{value:e.value,placeholder:e.placeholder,clearable:"",disabled:e.disabled},on:{change:e.changeModal}},e._l(e.list,(function(t){return n("el-option",{key:"option-"+t[e.optionValue],attrs:{label:t[e.optionLabel],value:t[e.optionValue]}})})),1)},rl=[],il={name:"JkFormSelect",model:{prop:"value",event:"update"},props:{value:{type:[String,Number]},option:{type:[Function,Array,Promise],default:()=>[]},optionValue:[String,Number,Object],optionLabel:[String],optionDefaultItem:[String,Object],disabled:{type:Boolean,default:!1},placeholder:{type:String,default:"请选择"}},watch:{option:{handler:function(e,t){this.getList()},deep:!0}},created(){this.getList()},data(){return{list:[]}},methods:{changeModal(e){this.$emit("update",e),this.$emit("change",e)},async getList(){if(this.isPromise(this.option))this.option.then(e=>{this.list=[...e],this.optionDefaultItem&&this.list.unshift(this.optionDefaultItem)});else{if(this.isFun(this.option)){const e=await this.option();this.list=e}else this.isArray(this.option)&&(this.list=this.option);this.optionDefaultItem&&this.list.unshift(Object.assign({},this.optionDefaultItem))}},isArray(e){return e&&e instanceof Array},isFun(e){return e&&e instanceof Function},isPromise(e){return e&&e instanceof Promise}}},ol=il,al=f(ol,nl,rl,!1,null,null,null),sl=al.exports;sl.install=e=>e.component(sl.name,sl),"undefined"!==typeof window&&window.Vue&&window.Vue.use(sl);var ll=sl,cl=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-checkbox-group",{on:{change:e.handleCheckedChange},model:{value:e.checkedList,callback:function(t){e.checkedList=t},expression:"checkedList"}},e._l(e.list,(function(t,r){return n("el-checkbox",{key:r,attrs:{label:t[e.optionValue]}},[e._v(e._s(t[e.optionLabel]))])})),1)},ul=[],pl={name:"JkFormCheckbox",model:{prop:"value",event:"update"},props:{value:{type:[Array,String],default:()=>[]},option:{type:[Function,Array,Promise],default:()=>[]},optionValue:[String,Object],optionLabel:[String]},async created(){if(this.isPromise(this.option))this.option.then(e=>{this.list=e});else if(this.isFun(this.option)){const e=await this.option();this.list=e}else this.isArray(this.option)?this.list=this.option:this.list=[]},data(){return{list:[],checkedList:this.filter(this.value)}},methods:{filter(e){const t=[];return this.isArray(e)?(e.map(e=>{t.push(e.id)}),this.$emit("update",t),t):[]},handleCheckedChange(e){this.$emit("update",e),this.$emit("change",e)},isArray(e){return e&&e instanceof Array},isFun(e){return e&&e instanceof Function},isPromise(e){return e&&e instanceof Promise}}},dl=pl,fl=f(dl,cl,ul,!1,null,null,null),ml=fl.exports;ml.install=e=>e.component(ml.name,ml),"undefined"!==typeof window&&window.Vue&&window.Vue.use(ml);var hl=ml,vl=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-checkbox-group",{model:{value:e.checkedList,callback:function(t){e.checkedList=t},expression:"checkedList"}},e._l(e.list,(function(t,r){return n("el-checkbox",{key:r,attrs:{label:e.oValue(t)}},[e._v(e._s(t[e.optionLabel]))])})),1)},bl=[],gl={name:"JkFormCheckboxObj",model:{prop:"value",event:"update"},props:{value:{type:[Array],default:()=>[]},option:{type:[Function,Array,Promise],default:()=>[]},optionValue:[String],optionLabel:[String]},async created(){if(this.isPromise(this.option))this.option.then(e=>{this.list=e});else if(this.isFun(this.option)){const e=await this.option();this.list=e}else this.isArray(this.option)?this.list=this.option:this.list=[]},computed:{checkedList:{get(){return console.log("this.value: ",this.value),this.value.reduce((e,t)=>e.concat(JSON.stringify(t)),[])},set(e){const t=e.map(e=>JSON.parse(e));console.log("result: ",t),this.$emit("update",t)}}},data(){return{list:[]}},methods:{oValue(e){return JSON.stringify(e)},isArray(e){return e&&e instanceof Array},isFun(e){return e&&e instanceof Function},isPromise(e){return e&&e instanceof Promise}}},yl=gl,wl=f(yl,vl,bl,!1,null,null,null),_l=wl.exports;_l.install=e=>e.component(_l.name,_l),"undefined"!==typeof window&&window.Vue&&window.Vue.use(_l);var jl=_l,xl=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-radio-group",{on:{change:e.handleCheckedChange},model:{value:e.checkedValue,callback:function(t){e.checkedValue=t},expression:"checkedValue"}},e._l(e.list,(function(t,r){return n("el-radio",{key:r,attrs:{label:t[e.optionValue]}},[e._v(e._s(t[e.optionLabel]))])})),1)},kl=[],Ol={name:"JkFormRadio",model:{prop:"value",event:"update"},props:{value:{type:[Number,String],default:""},option:{type:[Function,Array,Promise],default:()=>[]},optionValue:[String,Object],optionLabel:[String]},data(){return{list:[]}},computed:{checkedValue:{get(){return this.value},set(e){this.$emit("update",e)}}},async created(){if(this.isPromise(this.option))this.option.then(e=>{this.list=e});else if(this.isFun(this.option)){const e=await this.option();this.list=e}else this.isArray(this.option)?this.list=this.option:this.list=[]},methods:{handleCheckedChange(e){this.$emit("update",e),this.$emit("change",e)},isArray(e){return e&&e instanceof Array},isFun(e){return e&&e instanceof Function},isPromise(e){return e&&e instanceof Promise}}},Sl=Ol,Cl=f(Sl,xl,kl,!1,null,null,null),$l=Cl.exports;$l.install=e=>e.component($l.name,$l),"undefined"!==typeof window&&window.Vue&&window.Vue.use($l);var Al=$l,Vl=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"avatar-uploader--container"},[e.progress>0?n("el-progress",{staticClass:"progress",attrs:{type:"circle",percentage:e.progress}}):n("el-upload",{staticClass:"avatar-uploader",attrs:{action:"",accept:".jpeg, .gif, .png, .jpg","list-type":"picture-card","http-request":e.uploadRequest,drag:!0,"show-file-list":!1,"before-upload":e.beforeUpload,"on-success":e.uploadSuccess,"on-error":e.handleUploadError}},[e.image?n("el-image",{staticClass:"inner-image",attrs:{fit:"contain",src:e.image}}):n("i",{staticClass:"el-icon-plus"})],1),e.image?n("el-popover",{attrs:{placement:"right",trigger:"hover"}},[n("div",{staticClass:"preview_view"},[n("img",{attrs:{src:e.image}})]),n("div",{staticClass:"preview",attrs:{slot:"reference"},slot:"reference"},[e._v("预览")])]):e._e()],1),e.tips?n("div",{staticClass:"tips",domProps:{innerHTML:e._s(e.tips)}}):e._e()])},Fl=[],Pl={name:"JkFormUploadImage",model:{prop:"image",event:"update"},props:{image:{type:String,default:""},request:{type:Function,default:function(){}},tips:{type:String,default:""}},data(){return{progress:0,uploadRequest:this.request.bind(this)}},methods:{beforeUpload(e){this.$emit("update","");const t=-1!==e.type.indexOf("image"),n=e.size/1024/1024<10;return t||this.$message.error("上传图片只能是 图片 格式!"),n||this.$message.error("上传图片大小不能超过 10MB!"),t&&n},uploadSuccess(e,t,n){this.progress=0,this.$emit("update",e),this.$emit("success",e)},handleUploadError(){this.$notify({title:"失败",type:"error",message:"图片上传失败",duration:2e3})},updateProgress(e){this.progress=e}}},Ll=Pl,El=(n("38bf"),f(Ll,Vl,Fl,!1,null,"2adb0d64",null)),Ml=El.exports;Ml.install=e=>e.component(Ml.name,Ml),"undefined"!==typeof window&&window.Vue&&window.Vue.use(Ml);var Jl=Ml,Nl=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page"},[n("div",{staticClass:"images__list"},[n("div",{staticClass:"images__list"},e._l(e.imageList,(function(t,r){return n("div",{key:t.uid,staticClass:"item"},[n("el-image",{staticClass:"image",attrs:{src:t.url,fit:"contain","preview-src-list":[t.url]}}),n("div",{staticClass:"close__butn",on:{click:function(t){return e.deletImageIndex(r)}}},[n("i",{staticClass:"el-icon-delete"})])],1)})),0),e.imageList.length<e.limit?n("el-upload",{attrs:{multiple:"",action:"",accept:".jpeg, .gif, .png","http-request":e.request,"show-file-list":!1,"on-success":e.handleAvatarSuccess}},[n("div",{staticClass:"item border"},[n("i",{staticClass:"el-icon-plus"})])]):e._e()],1)])},Il=[],Tl={name:"JkFormUploadImageList",model:{prop:"images",event:"update"},props:{images:{type:[Array,String],default:()=>[]},limit:{type:Number,default:6},request:{type:Function,default:()=>{}}},computed:{imageList:{get(){return this.images&&this.images instanceof Array?this.images:[]},set(e){console.log(e),this.$emit("update",e)}}},data(){return{}},methods:{handleAvatarSuccess(e,t){const n=this.limit,r=this.imageList.length;if(r>=n)this.$message.warning(`当前限制选择 ${n} 个文件`);else{t.url=e;const n=[...this.imageList,t];this.progress=0,this.$emit("update",n),this.$emit("success",n)}},handleExceed(e,t){},deletImageIndex(e){this.imageList.splice(e,1)[0]},isObj(e){return"[object Object]"===Object.prototype.toString.call(e)}}},Ul=Tl,zl=(n("4098"),f(Ul,Nl,Il,!1,null,"19410eab",null)),Bl=zl.exports;Bl.install=e=>e.component(Bl.name,Bl),"undefined"!==typeof window&&window.Vue&&window.Vue.use(Bl);var Dl=Bl,Rl=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-upload",{attrs:{action:"",name:"files",accept:".mp4, .mp3","http-request":e.uploadRequest,"show-file-list":!1,"before-upload":e.beforeFileUpload,"on-success":e.successFileUpload,"on-error":e.handleUploadError}},[n("el-button",{attrs:{size:"small",type:"primary"}},[e._v(e._s(e.butnText))])],1),e.video?n("video",{staticClass:"video__priview",attrs:{src:e.video,controls:"controls"},on:{durationchange:e.getDuration}}):e._e(),e.progress?n("el-progress",{attrs:{percentage:e.progress}}):e._e()],1)},ql=[],Ql={name:"JkFormUploadVideo",model:{prop:"video",event:"update"},props:{butnText:{type:String,default:"上传"},video:{type:String,default:""},times:{type:[String,Number],default:""},request:{type:Function,default:function(){}}},data(){return{progress:0,uploadRequest:this.request.bind(this)}},methods:{getDuration(){const e=parseInt(document.getElementsByTagName("video")[0].duration);this.$emit("update:times",e)},beforeFileUpload(e){this.$emit("update",""),this.$emit("update:times","")},successFileUpload(e,t,n){this.progress=0,this.$emit("update",e),this.$emit("success",e)},updateProgress(e){this.progress=e},handleUploadError(){this.progress=0,this.$message.error("上传文件失败")}}},Wl=Ql,Hl=(n("e52e"),f(Wl,Rl,ql,!1,null,"5e6e78e6",null)),Kl=Hl.exports;Kl.install=e=>e.component(Kl.name,Kl),"undefined"!==typeof window&&window.Vue&&window.Vue.use(Kl);var Gl=Kl,Xl=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-card",{staticClass:"banner-card-container",attrs:{shadow:"hover"}},[n("div",{staticClass:"image",attrs:{slot:"header"},slot:"header"},[n("el-image",{staticClass:"inner-img",attrs:{fit:"contain",src:e.image,"preview-src-list":[e.image]}})],1),n("div",{staticClass:"tools"},[n("el-button",{staticClass:"tools-item",attrs:{type:"primary",plain:""},on:{click:function(t){return e.$emit("edit")}}},[e._v(" 编辑 ")]),n("el-button",{staticClass:"tools-item",attrs:{type:"danger",plain:""},on:{click:function(t){return e.$emit("del")}}},[e._v(" 删除 ")]),e.sort?n("el-button-group",{staticClass:"tools-item"},[n("el-button",{staticClass:"sort-btn",attrs:{icon:"el-icon-back",size:"mini",circle:"",plain:""},on:{click:function(t){return e.$emit("up")}}}),n("el-button",{staticClass:"sort-btn",attrs:{icon:"el-icon-right",size:"mini",circle:"",plain:""},on:{click:function(t){return e.$emit("down")}}})],1):e._e()],1)])},Yl=[],Zl={name:"JkBannerCard",props:{image:{type:String,default:""},sort:{type:Boolean,default:!1}},computed:{sortModel:{get(){return this.sort},set(e){console.log("val: ",e)}}},data(){return{}},mounted(){},methods:{}},ec=Zl,tc=(n("9156"),f(ec,Xl,Yl,!1,null,"2e41f63e",null)),nc=tc.exports;nc.install=e=>e.component(nc.name,nc),"undefined"!==typeof window&&window.Vue&&window.Vue.use(nc);var rc=nc,ic=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-card",[n("div",{staticClass:"title",attrs:{slot:"header"},slot:"header"},[e._v(e._s(e.title))]),n("div",{staticClass:"row"},[e._l(e.bannerList,(function(t,r){return n("div",{key:t.id},[n("BannerCard",{attrs:{image:t.url,sort:e.sort},on:{edit:function(n){return e.handleEdit(t)},del:function(n){return e.handleDel(t)},up:function(n){return e.handleUp(t,r,e.bannerList)},down:function(n){return e.handleDown(t,r,e.bannerList)}}})],1)})),e.bannerList.length<e.limit?n("el-button",{staticClass:"item-add",attrs:{icon:"el-icon-plus"},on:{click:e.handleAdd}}):e._e()],2),n("JkAssemblerFormPanel",{attrs:{visible:e.visible,config:e.config},on:{"update:visible":function(t){e.visible=t}},model:{value:e.formModel,callback:function(t){e.formModel=t},expression:"formModel"}})],1)},oc=[],ac={name:"JkBannerCardList",components:{BannerCard:nc,JkAssemblerFormPanel:ls},props:{value:{type:Array,default:()=>[]},title:{type:String,default:""},sort:{type:Boolean,default:!1},limit:{type:[Number,String],default:5},formConfig:{type:[Function,Object],default:()=>{}},events:{type:[Object],default:()=>{}}},computed:{config(){return be(this.formConfig)?this.formConfig(this):this.formConfig},bannerList:{get(){return this.value},set(e){this.$emit("update",e)}}},data(){return{visible:!1,formModel:{}}},created(){},methods:{handleAdd(){this.visible=!0,this.formModel={}},handleEdit(e){this.visible=!0,this.formModel=Object.assign({},e)},handleDel(e){this.events.del?this.events.del(e):this.$emit("del",{row:e})},handleUp(e,t,n){this.events.up?this.events.up(e,t,n):this.$emit("up",{row:e,index:t,rows:n})},handleDown(e,t,n){this.events.down?this.events.down(e,t,n):this.$emit("down",{row:e,index:t,rows:n})}}},sc=ac,lc=(n("ecbe"),f(sc,ic,oc,!1,null,"488d6237",null)),cc=lc.exports;cc.install=e=>e.component(cc.name,cc),"undefined"!==typeof window&&window.Vue&&window.Vue.use(cc);var uc=cc;const pc=[_s,v,P,is,cs,vs,$s,Hs,tl,ll,hl,jl,Al,Jl,Dl,Gl,rc,uc],dc=function(e,t={}){pc.map(t=>{e.component(t.name,t)})};"undefined"!==typeof window&&window.Vue&&dc(window.Vue);var fc={install:dc,JkAssembler:_s,JkAssemblerFilter:v,JkAssemblerTable:P,JkAssemblerForm:is,JkAssemblerFormPanel:cs,JkAssemblerPagination:vs,JkColumnImages:$s,JkColumnStatus:Hs,JkColumnSort:tl,JkFormSelect:ll,JkFormCheckbox:hl,JkFormUploadImage:Jl,JkFormUploadImageList:Dl,JkFormUploadVideo:Gl};t["default"]=fc}})}));